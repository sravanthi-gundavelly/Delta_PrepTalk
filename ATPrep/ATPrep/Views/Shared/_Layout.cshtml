<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Preptalk -@ViewData["Title"]</title>

    <environment include="Development">
        @*<link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.css" />*@
    </environment>
    <environment exclude="Development">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
              asp-fallback-href="~/lib/bootstrap/dist/css/bootstrap.min.css"
              asp-fallback-test-class="sr-only" asp-fallback-test-property="position" asp-fallback-test-value="absolute"
              crossorigin="anonymous"
              integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" />
    </environment>
    <link rel="stylesheet" href="~/css/botuitheme.css" />
    <link rel="stylesheet" href="~/css/botui.css" />
    <link href="~/vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">
    <link href="~/css/sb-admin-2.min.css" rel="stylesheet">
    <link href="~/css/StyleSheet.css" rel="stylesheet">
    <script src="~/js/webchat.js"></script>
    @*<script src="https://cdn.botframework.com/botframework-webchat/latest/webchat.js"></script>*@

    @*<script src="https://cdn.botframework.com/botframework-webchat/latest/botchat.js"></script>*@

    <script src="~/js/Url.js"></script>
    <style>
        /*li > a:visited {
            background-color: grey !important;
        }*/

        /* mouse over link */
        /*li > a:hover {
            background-color: #6c757d !important;
        }*/

        /* selected link */
        li > a:active {
            background-color: grey !important;
        }

        .activea {
            background-color: grey;
        }
    </style>
</head>
<body>
    <div id="wrapper">
        <!-- Sidebar -->
        <ul class="navbar-nav bg-gradient-primary sidebar sidebar-dark accordion" id="accordionSidebar">
            <!-- Sidebar - Brand -->
            <a class="d-flex align-items-center justify-content-center" href="#">
                <img class="img-fluid preplogo" src="~/images/prepstatic.jpg" />
            </a>

            <hr class="sidebar-divider">
            <a class="d-flex align-items-center justify-content-center" href="#">
                <img class="logo img-fluid" id="userimage" style="border-radius:100%;" />
            </a>

            <hr class="sidebar-divider">
            <!-- Nav Item - Pages Collapse Menu -->
            <li class="nav-item @(ViewBag.current == "Home" ? "activea" :"")">
                <a class="nav-link " href="../Home/Home">
                    <i class="fas fa-fw fa-home"></i>
                    <span>Home Page</span>
                </a>
            </li>
            <!-- Nav Item - Utilities Collapse Menu -->
            <li class="nav-item">
                <a class="nav-link  @(ViewBag.current == "Simulate" ? "activea" :"")" href="@Url.Action("Assessment", "Assessment")">
                    <i class="fas fa-fw fa-microphone"></i>
                    <span>Simulate</span>
                </a>
            </li>

            <li class="nav-item">
                <a class="nav-link  @(ViewBag.current == "Analyze" ? "activea" :"")" href="../Home/Analysis">
                    <i class="fas fa-fw fa-pen"></i>
                    <span>Analyze</span>
                </a>
            </li>

            <li class="nav-item">
                <a class="nav-link  @(ViewBag.current == "Micro" ? "activea" :"")" href="../Home/MicroLearn">
                    <i class="fas fa-fw fa-headphones"></i>
                    <span>Micro-Learning</span>
                </a>
            </li>
            <hr class="sidebar-divider d-none d-md-block">
            <li class="nav-item" style="background-color:#e2153c;">
                <a class="nav-link " onclick="clearsession()" href="..">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>Log Out</span>
                </a>
            </li>
            <hr class="sidebar-divider d-none d-md-block">
            <!-- Sidebar Toggler (Sidebar) -->
            <div class="text-center d-none d-md-inline">
                <button class="rounded-circle border-0" id="sidebarToggle"></button>
            </div>
        </ul>
        <!-- End of Sidebar -->
        <!-- Content Wrapper -->
        <div id="content-wrapper" class="d-flex flex-column">
            <!-- Main Content -->
            <div id="content">
                <!-- Topbar -->
                <nav class="navbar navbar-expand navbar-light  topbar mb-4 static-top shadow">
                    <!-- Sidebar Toggle (Topbar) -->
                    <button id="sidebarToggleTop" class="btn btn-link d-md-none rounded-circle mr-3">
                        <i class="fa fa-bars"></i>
                    </button>
                    <img class="logowidth" src="~/images/Intelligent-Automation-transparent-logo.png" />
                    <ul class="navbar-nav ml-auto">
                        <!-- Nav Item - Search Dropdown (Visible Only XS) -->
                        @*<li class="nav-item dropdown no-arrow d-sm-none">
                            <a class="nav-link dropdown-toggle" href="#" id="searchDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <i class="fas fa-search fa-fw"></i>
                            </a>
                            <div class="dropdown-menu dropdown-menu-right p-3 shadow animated--grow-in" aria-labelledby="searchDropdown">
                                <form class="form-inline mr-auto w-100 navbar-search">
                                    <div class="input-group">
                                        <input type="text" class="form-control bg-light border-0 small" placeholder="Search for..." aria-label="Search" aria-describedby="basic-addon2">
                                        <div class="input-group-append">
                                            <button class="btn btn-primary" type="button">
                                                <i class="fas fa-search fa-sm"></i>
                                            </button>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </li>*@
                        <!-- Nav Item - Alerts -->
                        <!-- Nav Item - Messages -->
                        @*<li class="nav-item dropdown no-arrow mx-1">
                            <img class="logowidth" src="~/images/att.png" />
                          

                        </li>*@

                    </ul>
                </nav>

                <div class="container-fluid" style="text-align:right;margin-bottom:10px;">
                    <div id="test"></div>
                    @*<span>Date: @DateTime.Now.ToShortDateString()</span>*@
                </div>

                <partial name="_CookieConsentPartial" />
                <main role="main" class="pb-3" style="background:white;">
                    <div>
                        @RenderBody()

                    </div>
                    @*<div style="position: fixed;bottom: 0;z-index: 9;">
                        <input class="d-none d-sm-inline-block btn  btn-primary shadow-sm" type="button" onclick="chatDemo()" background-color="blue" value="click" />
                    </div>*@
                </main>









                <footer class="sticky-footer bg-black" style="color:darkgrey;">

                    <div class="row col-md-12">
                        <div class="col-md-5">
                            <img src="~/images/logo-lighter.png"><br />
                            <span>Visit <a style="color:darkgrey;" href="https://www.pactera-edge.com/" target="_blank">Pactera-edge.com</a></span>
                        </div>
                  
                        <div class="col-md-6" style="text-align:right;">

                            <span>For Further Information,please contact <span style="color:#4e73df;">tami.sulzberg@pactera.com</span></span><br />
                            <span>© @DateTime.Now.Year Pactera Edge.All rights reserved.</span>
                            <div style="position: fixed;bottom: 5px;right:5px;">
                                <a  type="button" onclick="chatDemo()"><img style="height:100px;" src="~/images/bot1.png" /></a>
                            </div>
                            <div id="showbot" style="display:none;">
                                <div style="position:fixed;bottom:0;height:600px;text-align: initial;right:0;width:530px;font-size:16px;" id="bot" />
                            </div>

                        </div>

                    </div>
                    <div id="showbot" style="float:right;display:none;">
                        <div id="bot" style="position:fixed;bottom:0;height:600px;"/>
                    </div>

                    @*<div style="margin:30px;">
                        <div class=" my-auto">
                            <div class="row">
                                <div class="col-md-3 ">
                                    <img src="~/images/logo-lighter.png"><br />
                                    <ul class="footerul">
                                        <li><img src="~/images/pactera-arrow-icon.png">&nbsp;<a class="anchorfooter" href="https://www.pactera-edge.com/about-us"><label>ABOUT US</label></a></li>
                                        <br>
                                        <li><img src="~/images/pactera-arrow-icon.png">&nbsp;<a class="anchorfooter" href="https://www.pactera-edge.com/careers"><label>CAREERS</label></a></li>
                                        <br>
                                        <li><img src="~/images/pactera-arrow-icon.png">&nbsp;<a class="anchorfooter" href="https://www.pactera-edge.com/insights/case-studies"><label>CASE STUDIES</label></a></li>
                                        <br>
                                        <li><img src="~/images/pactera-arrow-icon.png">&nbsp;<a class="anchorfooter" href="https://www.pactera-edge.com/insights"><label>INSIGHTS</label></a></li>
                                    </ul>
                                </div>
                                <div class="vl"></div>

                                <div class="col-md-2">
                                    <label class="labelfooter">NEW YORK</label><br>
                                    <ul class="footerlocation">
                                        <li>
                                            <img src="~/images/location-icon.png">&nbsp;
                                            102 Madison Ave 2nd Floor New York, NY 10016
                                        </li>
                                        <br>
                                        <li>
                                            <img src="~/images/phone-icon.png">&nbsp;
                                            1.646.290.6124
                                        </li>
                                    </ul>
                                </div>

                                <div class="col-md-2">
                                    <label class="labelfooter">CHICAGO</label><br>
                                    <ul class="footerlocation">
                                        <li>
                                            <img src="~/images/location-icon.png">&nbsp;

                                            500 W Madison St #1610, Chicago, IL 60661
                                        </li>
                                        <br>
                                        <li>
                                            <img src="~/images/phone-icon.png">&nbsp;
                                            1.312.754.9220
                                        </li>
                                    </ul>
                                </div>


                                <div class="col-md-2">
                                    <label class="labelfooter">SEATTLE</label><br>
                                    <ul class="footerlocation">
                                        <li>
                                            <img src="~/images/location-icon.png">&nbsp;

                                            14980 NE 31st Way Suite 100 Redmond, WA 98052
                                        </li>
                                        <br>
                                        <li>
                                            <img src="~/images/phone-icon.png">&nbsp;
                                            1.425.233.8578
                                        </li>
                                    </ul>
                                </div>
                                <div class="vl"></div>

                                <div class="col-md-2">
                                    <label class="labelfooter"><b>STAY CONNECTED</b></label><br>
                                    <ul class="footerlocation">
                                        <li>
                                            <a href="https://www.facebook.com/Pactera"><img src="~/images/fb-icon.png" /></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                            <a href="https://www.linkedin.com/company/pactera"><img src="~/images/lk-icon.png" /></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                            <a href="https://twitter.com/pactera"><img src="~/images/tt-icon.png" /></a>
                                        </li>
                                        <hr />
                                        <li>
                                            <a class="anchorfooter" href="https://www.pactera-edge.com/locations">SEE OUR GLOBAL LOCATIONS</a>
                                        </li>
                                    </ul>
                                </div>

                            </div>

                            <div class="col-md-7" style="margin-left:250px;">
                                <a href="https://contactlogicapp.azurewebsites.net/" target="_blank">
                                    <button class="block contactus">CONTACT US</button>
                                </a>
                            </div>

                        </div>
                        <br />
                        <div class="row">
                            <div class="col-md-12 footerlocation">
                                <span>© @DateTime.Now.Year Pactera Edge. All rights reserved.</span>
                            </div>
                        </div>

                    </div>*@
                </footer>

                <!-- End of Footer -->
            </div>
            <!-- End of Content Wrapper -->
        </div>
    
        <script>
         localStorage.setItem("name", "@ViewBag.UserName");
            function chatDemo() {

                var user = localStorage.getItem("name");
                if ($("#showbot").css("display") == "none") {
                    $("#showbot").css("display", "block");

                    const styleOptions = {

                        // Colors
                        bubbleBackground: 'rgba(217, 217, 217, 0.15)',
                        bubbleFromUserBackground: 'rgba(0, 150, 130, 1)',
                        bubbleFromUserTextColor: 'white',
                        bubbleMaxWidth: 600, // maximum width of text message

                        // Avatar
                        //avatarSize: 100,
                        botAvatarImage: '/images/bot.png',
                        botAvatarInitials: 'Bt', // doesn't seem to work
                        userAvatarImage: '/images/' + localStorage.getItem("userimage"),
                        userAvatarInitials: user, // doesn't seem to work

                        // Send box
                        hideSendBox: false,
                        hideUploadButton: false, // doesn't seem to work
                        sendBoxButtonColor: '#767676',
                        sendBoxButtonColorOnDisabled: '#CCC',
                        sendBoxButtonColorOnFocus: '#333',
                        sendBoxButtonColorOnHover: '#333',
                        sendBoxHeight: 40,

                        // Suggested actions
                        suggestedActionTextColor: 'black',
                        suggestedActionBorder: `solid 2px #009682`,
                        suggestedActionHeight: 30,

                    };

                    const store = window.WebChat.createStore({}, ({ dispatch }) => next => action => {
                        if (action.type === 'DIRECT_LINE/CONNECT_FULFILLED') {
                            // When we receive DIRECT_LINE/CONNECT_FULFILLED action, we will send an event activity using WEB_CHAT/SEND_EVENT
                            dispatch({
                                type: 'WEB_CHAT/SEND_EVENT',
                                payload: {
                                    name: 'webchat/join',
                                    value: { language: window.navigator.language }
                                }
                            });
                        }
                        return next(action);
                    });

                    window.WebChat.renderWebChat(
                        {
                            directLine: window.WebChat.createDirectLine({
                                token:"-ti8JHp1Vfg.A22_S2NSWLQvSX_KnY0IwPctyRMvwTuUGe7St-StPd4",
                               // token: '8U6FceURryU.gitrDuIO5rsUKlESplgvOf39hD7J6wpVdtZ1KBvAWYE',
                            }),
                            userID: localStorage.getItem("UserID"),
                            userName: user,
                            chatTitle: "ChatBot",
                            store,
                            styleOptions

                        },
                        document.getElementById('bot'))

                    $("#bot").css("border", "1px solid grey");
                    document.getElementsByClassName("css-mfy564")[1].innerHTML = "<h5 style='background: #1c447f;color:#e9ecef;; height: 45px;padding: 10px;'><img style='height:20px;' src='/images/prepstatic.JPG' />  for EDGE-Protect [Chat]<span style='float:right;color:#e9ecef;;cursor:pointer;' onclick='closechat()'>×</span></h5>";

                 //   document.getElementsByClassName("css-mfy564")[1].innerHTML = "<h5 style='background: #1c447f;color:white; height: 45px;padding: 10px;'>PrepTalk Chat<span style='float:right;color:white;cursor:pointer;' onclick='closechat()'>×</span></h5>";
                   // $(".css-mfy564 span").innerText = "Hello";
                }
                else {
                    $("#showbot").css("display", "none");
                }
                //$("#bot").css("width", "400px;");
            //    const styleOptions = {

            //        // Colors
            //        bubbleBackground: 'rgba(217, 217, 217, 0.15)',
            //        bubbleFromUserBackground: 'rgba(0, 150, 130, 1)',
            //        bubbleFromUserTextColor: 'white',
            //        bubbleMaxWidth: 600, // maximum width of text message

            //        // Avatar
            //        //avatarSize: 100,
            //        //botAvatarImage: '',
            //        botAvatarInitials: 'Bt', // doesn't seem to work
            //        //userAvatarImage: '',
            //        userAvatarInitials: "sd", // doesn't seem to work

            //        // Send box
            //        hideSendBox: false,
            //        hideUploadButton: true, // doesn't seem to work
            //        sendBoxButtonColor: '#767676',
            //        sendBoxButtonColorOnDisabled: '#CCC',
            //        sendBoxButtonColorOnFocus: '#333',
            //        sendBoxButtonColorOnHover: '#333',
            //        sendBoxHeight: 40,

            //        // Suggested actions
            //        suggestedActionTextColor: 'black',
            //        suggestedActionBorder: `solid 2px #009682`,
            //        suggestedActionHeight: 30,

            //    };
            //    if ($("#showbot").css("display") == "none") {
            //        $("#showbot").css("display", "block");
            //        const botConnection = new BotChat.DirectLine({
            //            secret: '8Z_Va6AmYMQ.PpFYBmH5u4y0JAGePQTDJetSPTMydbdcC6c7QTzkA-o'
            //        });
            //        BotChat.App({
            //            //directLine: {
            //            //    secret: '8Z_Va6AmYMQ.PpFYBmH5u4y0JAGePQTDJetSPTMydbdcC6c7QTzkA-o'
            //            //},
            //            user: { id: localStorage.getItem("name") },
            //            bot: { id: 'botid' },
            //            botConnection: botConnection,
            //            resize: 'detect',
            //            html: true,
            //            chatTitle: "ChatBot",
            //            styleOptions
            //        }, document.getElementById("bot"));
            //        botConnection.activity$
            //            .filter(function (activity) {
            //                if (activity.type === 'message' && activity.text === 'close') {
            //                    window.close();
            //                }
            //            })
            //            .subscribe(function (activity) {
            //                // Make function calls and track activity/events from the page to the bot
            //            });
            //        botConnection
            //            .postActivity({
            //                from: "s",
            //                name: 'requestWelcomeDialog',
            //                type: 'event',
            //                value: ''
            //            })
            //            .subscribe(function (id) {
            //                console.log('"trigger requestWelcomeDialog" sent');
            //            });
            //    }
            //    else {
            //        $("#showbot").css("display", "none");
            //    }


            }
            function closechat() {
                if ($("#showbot").css("display") == "none") {
                    $("#showbot").css("display", "block");
                }
                else {
                    $("#showbot").css("display", "none");
                }
            }
        </script>
        <style>
            /*.css-mfy564{
                text-align:center;
            }*/
            .h5 {
              
            }
        </style>
        <script type="text/javascript">
            //$(document).ready(function () {
            //    $("[href]").each(function () {
            //        if (this.href == window.location.href) {
            //            $(this).addClass("activeClass");
            //        }
            //    });
            //});

            function clearsession() {
                localStorage.setItem("UserName", "");
                localStorage.setItem("session", "");
                localStorage.clear();
            }
        </script>
        <script src="~/vendor/jquery/jquery.min.js"></script>
        <script src="~/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
        <!-- Core plugin JavaScript-->
        <script src="~/vendor/jquery-easing/jquery.easing.min.js"></script>
        <!-- Custom scripts for all pages-->
        <script src="~/js/sb-admin-2.min.js"></script>

        <!-- Page level plugins -->
        @*<script src="~/vendor/chart.js/Chart.min.js"></script>*@
        <!-- Page level custom scripts -->
        @*<script src="~/js/demo/chart-area-demo.js"></script>
        <script src="~/js/demo/chart-pie-demo.js"></script>*@


        <environment include="Development">
            <script src="~/lib/jquery/dist/jquery.js"></script>
            <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.js"></script>
        </environment>
        <environment exclude="Development">
            <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"
                    asp-fallback-src="~/lib/jquery/dist/jquery.min.js"
                    asp-fallback-test="window.jQuery"
                    crossorigin="anonymous"
                    integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=">
            </script>
            <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.bundle.min.js"
                    asp-fallback-src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"
                    asp-fallback-test="window.jQuery && window.jQuery.fn && window.jQuery.fn.modal"
                    crossorigin="anonymous"
                    integrity="sha384-xrRywqdh3PHs8keKZN+8zzc5TX0GRTLCcmivcbNJWm2rs5C8PRhcEn3czEjhAO9o">
            </script>
        </environment>
        <script src="~/js/site.js" asp-append-version="true"></script>

        @RenderSection("Scripts", required: false)

        <script>
            document.getElementById("userimage").src = '/images/' + localStorage.getItem("userimage");
            userName = localStorage.getItem("UserName").split(" ")[0] + " " + localStorage.getItem("UserName").split(" ")[1][0]
            document.getElementById("test").innerHTML = "Welcome, " + userName + ". You logged in at " + localStorage.getItem("time") + ".";



        </script>



</body>


</html>
